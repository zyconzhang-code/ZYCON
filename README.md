# Mythic Wardens TD（网页端）

一款原创“怪物收集风格”2D 塔防小游戏，使用 **TypeScript + Phaser 3 + Vite** 构建。

- 怪物塔灵感来自元素克制与技能差异，但 **不使用任何官方素材**。
- 所有怪物与英雄为原创命名与造型（程序生成占位图）。
- 你可以替换成合法授权素材，详见下方说明。

## 运行方式

```bash
npm install
npm run dev
```

构建与预览：

```bash
npm run build
npm run preview
```

## 操作说明

- 左键：放置塔 / 选择卡牌
- 右键：取消放置
- Space：暂停 / 继续
- 1 / 2 / 3：切换速度
- R：释放已选中英雄的主动技能（或点击技能按钮）
- B：使用炸弹道具
- 悬停塔/敌人：查看属性与特性

## 玩法概述

- 在地图可建造区域放置 **怪物塔**，抵御多波敌人。
- 敌人沿路径移动；飞行敌人走空中路径。
- 每波结束获得奖励（卡牌 3 选 1）。
- 每 20 波触发解锁事件（新塔/英雄/强化 3 选 1）。
- 英雄塔具有 **主动技能 + 被动特性**，需解锁后才能购买。

## 资源替换说明（重要）

本项目 **不包含任何官方素材**。当前使用 **程序生成占位图形与音色**。

如需替换为自定义素材，请将合法授权的资源放入：

- `assets/img/`：怪物与地形贴图
- `assets/audio/`：BGM 与音效

然后在 `src/scenes/BootScene.ts` 中替换纹理生成逻辑，或改为加载你自己的素材路径。

## 主要配置入口

- 平衡参数：`src/data/balance.ts`
- 兵种数据：`src/data/towers.ts`
- 敌人数据：`src/data/enemies.ts`
- 关卡地图：`src/data/maps.ts`
- 元素克制：`src/data/elements.ts`
- 奖励池：`src/data/rewards.ts`
- 事件池：`src/data/events.ts`

## 设计说明（核心）

### 塔与英雄

- 普通塔 10 种（单体、穿透、溅射、链电、光束、减速、DOT、击退、扇形等）
- 英雄塔 3 种：
  - 大地系巨兽：`泰拉·钧岳`
  - 海洋系巨兽：`渊潮·海魇`
  - 天空系巨龙：`苍穹·裂翼`

### 属性克制

- 元素：火 / 水 / 草 / 电 / 冰 / 地 / 风 / 光 / 暗 / 无
- 克制示例：火克草、水克火、电克水、地克电、冰克风、光暗互克
- 伤害结算含“Super / Resist”提示

### 敌人类型（12+）

- 快速、坦克、护盾、飞行、分裂、抗性、回血、加速光环、隐身、狂暴、群体、重甲
- Boss：每 10 波小 Boss，每 30 波大 Boss

### 随机奖励与事件

- 每波奖励：金币 / 临时增益 / 解锁 / 英雄碎片 / 道具
- 事件：暴雨、流星雨、商人、敌潮突袭、医疗补给、迷雾、祝福、法力涌动、寒风、晶簇盛放等

### 回收规则

- 卖塔返还 60% 金币
- 同一格 **3 秒冷却**，防止滥用

### 难度曲线

- 前 10 波教学、逐步引入特殊敌人
- 中后期引入抗性与复合组合
- 平衡目标：普通玩家 20~30 分钟可打到 40~60 波左右

## 验收清单（逐条对应需求）

- 0) 版权与资源处理：无官方素材；怪物/英雄原创命名与造型；`assets/` 有占位资源与替换说明。
- 1) 概念与目标：怪物塔防、元素克制、真实质感地形 + 怪物收集风格造型。
- 2) 核心循环：放置预览（射程+红绿提示）、战斗波次、金币/生命、每 20 波卡牌解锁、回收（60% + 3 秒冷却）。
- 3) 暂停/加速：顶部按钮 + Space/1/2/3 快捷键，时间缩放影响敌人/塔/事件。
- 4) 兵种差异：10 普通塔 + 3 英雄塔，攻击方式/范围/伤害/技能差异，英雄含主动技能。
- 5) 属性克制：9 元素，克制表、倍率结算、浮动提示（Super/Resist）。
- 6) 敌人多样化：12 种敌人分阶段引入 + 每 10/30 波 Boss。
- 7) 随机奖励：每波结束 3 选 1（金币/增益/解锁/碎片/道具）+ 权重/保底。
- 8) 随机事件：每 5 波概率触发，10 种事件，含 UI 标题/描述/持续时间。
- 9) 地图与场景：3 套主题地图，纹理/装饰/路径形状不同，分叉路径。
- 10) 音效与氛围：场景音乐（占位音色）+ 事件/放置/回收/死亡/Boss 音效 + 音量滑条。
- 11) UI/交互：顶部信息条 + 可折叠侧栏；放置预览、右键取消、悬停提示、波次进度。
- 12) 难度曲线：前 3 波提示，中期加入特殊敌人，`balance.ts` 集中参数。
- 13) 技术实现：结构含 scenes/systems/entities/data/ui/assets；路径、射程、buff、事件、音频、时间缩放系统齐备；支持 80+ 敌人。
- 14) 交付与验收：完整可运行项目 + README 运行说明 + 资源替换说明 + 本清单。
